package code

import "math"

// BinaryFind åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦åœ¨æœ‰åºåˆ—è¡¨ä¸­
// äºŒåˆ†æŸ¥æ‰¾
// æ—¶é—´å¤æ‚åº¦ï¼šO(logn)
func BinaryFind(a int, arr []int) bool {
	left, right := 0, len(arr)
	for left <= right {
		mid := (left + right) / 2
		if arr[mid] == a {
			return true
		} else if a < arr[mid] {
			right = mid - 1
		} else {
			left = mid + 1
		}
	}
	return false
}

//ç»™å®šä¸€ä¸ªå¤§å°ä¸º n çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ä¸­çš„å¤šæ•°å…ƒç´ ã€‚å¤šæ•°å…ƒç´ æ˜¯æŒ‡åœ¨æ•°ç»„ä¸­å‡ºç°æ¬¡æ•° å¤§äº âŒŠ n/2 âŒ‹ çš„å…ƒç´ ã€‚
//
//ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚

func MajorityElement(nums []int) int {
	m := make(map[int]int)
	for _, v := range nums {
		m[v]++
		if m[v] > len(nums)/2 {
			return v
		}
	}
	return -1
}

// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ cpp ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç ä¸ä¿è¯æ­£ç¡®æ€§ï¼Œä»…ä¾›å‚è€ƒã€‚å¦‚æœ‰ç–‘æƒ‘ï¼Œå¯ä»¥å‚ç…§æˆ‘å†™çš„ cpp ä»£ç å¯¹æ¯”æŸ¥çœ‹ã€‚

func minWindow(s string, t string) string {
	need := make(map[byte]int)   // ç”¨äºç»Ÿè®¡éœ€è¦å‡‘é½çš„å­—ç¬¦
	window := make(map[byte]int) // è®°å½•æ»‘åŠ¨çª—å£å†…å·²æœ‰å­—ç¬¦çš„ä¸ªæ•°
	for i := range t {
		need[t[i]]++
	}
	left, right := 0, 0               // æ»‘åŠ¨çª—å£çš„å·¦å³è¾¹ç•Œ
	valid := 0                        // åˆ¤æ–­çª—å£ä¸­æ˜¯å¦å·²ç»åŒ…å«äº†å­—ä¸² t ä¸­æ‰€æœ‰å­—ç¬¦
	start, length := 0, math.MaxInt32 // æœ€å°è¦†ç›–å­ä¸²çš„èµ·å§‹ç´¢å¼•åŠé•¿åº¦
	for right < len(s) {              // å½“ right å°äº s çš„é•¿åº¦æ—¶ï¼Œç»§ç»­å¾ªç¯
		c := s[right] // c æ˜¯å°†è¦åŠ å…¥çª—å£ä¸­çš„å­—ç¬¦
		right++
		if _, ok := need[c]; ok { // å¦‚æœè¿™ä¸ªå­—ç¬¦åœ¨å­—ä¸² t ä¸­éœ€è¦çš„è¯
			window[c]++               // åŠ å…¥çª—å£ä¸­
			if window[c] == need[c] { // å¦‚æœå­—ç¬¦ c åœ¨çª—å£ä¸­çš„æ•°é‡å·²ç»æ»¡è¶³å…¶åœ¨å­—ä¸² t ä¸­çš„æ•°é‡
				valid++ // è®¡æ•°å™¨ valid åŠ ä¸€
			}
		}
		for valid == len(need) { // å¦‚æœæ»‘åŠ¨çª—å£ä¸­çš„å­—ç¬¦å·²ç»å®Œå…¨è¦†ç›–å­—ä¸² t ä¸­çš„å­—ç¬¦
			if right-left < length { // å¦‚æœæ­¤æ—¶çš„è¦†ç›–å­ä¸²æ›´çŸ­
				start = left          // æ›´æ–°æœ€å°è¦†ç›–å­ä¸²çš„èµ·å§‹ç´¢å¼•
				length = right - left // æ›´æ–°æœ€å°å­ä¸²çš„é•¿åº¦
			}
			d := s[left]              // d æ˜¯å°†è¦ç§»å‡ºçª—å£çš„å­—ç¬¦
			left++                    // å·¦ä¾§çª—å£å³ç§»
			if _, ok := need[d]; ok { // å¦‚æœè¿™ä¸ªå­—ç¬¦åœ¨å­—ä¸² t ä¸­éœ€è¦çš„è¯
				if window[d] == need[d] { // å¦‚æœè¿™ä¸ªå­—ç¬¦å·²ç»æ»¡è¶³äº†ä»–åœ¨å­—ä¸² t ä¸­çš„éœ€æ±‚
					valid-- // è®¡æ•°å™¨ valid å‡ä¸€
				}
				window[d]-- // ç§»å‡ºçª—å£
			}
		}
	}
	if length == math.MaxInt32 { // å¦‚æœæœ€å°å­ä¸²é•¿åº¦æ²¡æœ‰æ›´æ–°ï¼Œåˆ™è¿”å›ç©ºæ ¼
		return ""
	}
	return s[start : start+length] // è¿”å›æœ€å°è¦†ç›–å­ä¸²
}
